# ğŸš€ å¿«é€Ÿæµ‹è¯•æŒ‡å— - å¤´åƒä¸Šä¼  & ä¿®æ”¹å¯†ç 

## âš¡ å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥ï¼‰

### ç¬¬ 1 æ­¥ï¼šåˆ›å»º Supabase Storageï¼ˆå¿…é¡»ï¼ï¼‰

åœ¨ Supabase Dashboard ä¸­æ‰§è¡Œï¼š

1. **ç™»å½• Dashboard**ï¼šhttps://supabase.com/dashboard
2. **è¿›å…¥ Storage**ï¼šå·¦ä¾§èœå• â†’ Storage â†’ Buckets
3. **åˆ›å»ºå­˜å‚¨æ¡¶**ï¼š
   - ç‚¹å‡» "New bucket"
   - Bucket name: `avatars`
   - âœ… **å‹¾é€‰ "Public bucket"**
   - ç‚¹å‡» "Create bucket"

4. **æ‰§è¡Œ SQL è®¾ç½®æƒé™**ï¼ˆå¤åˆ¶ç²˜è´´åˆ° SQL Editorï¼‰ï¼š

```sql
-- å…è®¸å·²ç™»å½•ç”¨æˆ·ä¸Šä¼ å¤´åƒ
CREATE POLICY "Allow authenticated users to upload avatars"
ON storage.objects
FOR INSERT
TO authenticated
WITH CHECK (bucket_id = 'avatars');

-- å…è®¸æ‰€æœ‰äººæŸ¥çœ‹å¤´åƒ
CREATE POLICY "Allow public to read avatars"
ON storage.objects
FOR SELECT
TO public
USING (bucket_id = 'avatars');

-- å…è®¸ç”¨æˆ·åˆ é™¤è‡ªå·±çš„å¤´åƒ
CREATE POLICY "Allow users to delete their own avatars"
ON storage.objects
FOR DELETE
TO authenticated
USING (bucket_id = 'avatars');
```

---

### ç¬¬ 2 æ­¥ï¼šå¯åŠ¨é¡¹ç›®

```bash
npm run dev
```

---

### ç¬¬ 3 æ­¥ï¼šæµ‹è¯•åŠŸèƒ½

è®¿é—®ï¼šhttp://localhost:5173/#/profile

---

## ğŸ¯ æµ‹è¯•å¤´åƒä¸Šä¼ 

1. **ç™»å½•è´¦å·**
2. **é¼ æ ‡æ‚¬åœåœ¨å¤´åƒä¸Š** â†’ å‡ºç° "ğŸ“· ä¸Šä¼ å¤´åƒ"
3. **ç‚¹å‡»ä¸Šä¼ ** â†’ é€‰æ‹©å›¾ç‰‡ï¼ˆJPG/PNG/WEBPï¼Œ< 2MBï¼‰
4. **æŸ¥çœ‹æ•ˆæœ** â†’ å¤´åƒç«‹å³æ›´æ–°

**æ•ˆæœå±•ç¤ºï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   [å¤´åƒå›¾ç‰‡]    â”‚ â† é¼ æ ‡æ‚¬åœæ˜¾ç¤ºä¸Šä¼ æŒ‰é’®
â”‚  ğŸ“· ä¸Šä¼ å¤´åƒ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” æµ‹è¯•ä¿®æ”¹å¯†ç 

1. **ç‚¹å‡» "è´¦æˆ·è®¾ç½®" æ ‡ç­¾é¡µ**
2. **ç‚¹å‡» "ä¿®æ”¹" æŒ‰é’®** â†’ å¼¹å‡ºå¯†ç ä¿®æ”¹çª—å£
3. **å¡«å†™ä¿¡æ¯**ï¼š
   - åŸå¯†ç 
   - æ–°å¯†ç ï¼ˆâ‰¥ 6 ä½ï¼‰
   - ç¡®è®¤æ–°å¯†ç 
4. **ç‚¹å‡» "ç¡®è®¤ä¿®æ”¹"**
5. **é€€å‡ºç™»å½•** â†’ ç”¨æ–°å¯†ç é‡æ–°ç™»å½•éªŒè¯

---

## âœ… æµ‹è¯•æ£€æŸ¥æ¸…å•

- [ ] Storage å­˜å‚¨æ¡¶ `avatars` å·²åˆ›å»º
- [ ] å­˜å‚¨æ¡¶è®¾ç½®ä¸º Public
- [ ] SQL æƒé™ç­–ç•¥å·²æ‰§è¡Œ
- [ ] é¡¹ç›®å·²å¯åŠ¨ï¼ˆnpm run devï¼‰
- [ ] å¤´åƒä¸Šä¼ æˆåŠŸ
- [ ] å¤´åƒæ˜¾ç¤ºæ­£å¸¸
- [ ] å¯†ç ä¿®æ”¹æˆåŠŸ
- [ ] æ–°å¯†ç ç™»å½•æˆåŠŸ

---

## ğŸ› å¸¸è§é—®é¢˜å¿«é€Ÿä¿®å¤

### é—®é¢˜ 1ï¼šä¸Šä¼ å¤±è´¥æç¤º "ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•"

**åŸå› **ï¼šæœªåˆ›å»º `avatars` å­˜å‚¨æ¡¶

**è§£å†³**ï¼š
```
Dashboard â†’ Storage â†’ åˆ›å»º "avatars" æ¡¶ â†’ å‹¾é€‰ Public
```

---

### é—®é¢˜ 2ï¼šå¤´åƒä¸æ˜¾ç¤ºï¼ˆ404ï¼‰

**åŸå› **ï¼šå­˜å‚¨æ¡¶æœªè®¾ç½®ä¸º Public æˆ–ç¼ºå°‘è¯»å–ç­–ç•¥

**è§£å†³**ï¼š
1. Storage â†’ avatars â†’ Settings â†’ âœ… Public bucket
2. æ‰§è¡Œä¸Šé¢çš„ SQL æƒé™ç­–ç•¥

---

### é—®é¢˜ 3ï¼šä¿®æ”¹å¯†ç æ—¶æç¤º "åŸå¯†ç é”™è¯¯"

**åŸå› **ï¼šè¾“å…¥çš„åŸå¯†ç ä¸æ­£ç¡®

**è§£å†³**ï¼š
- ç¡®è®¤åŸå¯†ç è¾“å…¥æ­£ç¡®
- å¦‚æœæ˜¯é¦–æ¬¡è®¾ç½®å¯†ç ï¼Œä½¿ç”¨éªŒè¯ç æ³¨å†Œçš„ç”¨æˆ·éœ€è¦å…ˆè®¾ç½®å¯†ç 

---

## ğŸ‰ åŠŸèƒ½æ¼”ç¤º

### å¤´åƒä¸Šä¼ æµç¨‹

```
ç”¨æˆ·ç™»å½• â†’ è¿›å…¥ä¸ªäººä¸­å¿ƒ â†’ æ‚¬åœå¤´åƒ â†’ ç‚¹å‡»ä¸Šä¼  â†’ é€‰æ‹©å›¾ç‰‡ â†’ è‡ªåŠ¨ä¸Šä¼  â†’ å¤´åƒæ›´æ–°
```

### ä¿®æ”¹å¯†ç æµç¨‹

```
è¿›å…¥è´¦æˆ·è®¾ç½® â†’ ç‚¹å‡»ä¿®æ”¹å¯†ç  â†’ è¾“å…¥åŸå¯†ç  â†’ è¾“å…¥æ–°å¯†ç  â†’ ç¡®è®¤ä¿®æ”¹ â†’ å®Œæˆ
```

---

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### å¤´åƒä¸Šä¼ 

- **å­˜å‚¨ä½ç½®**ï¼šSupabase Storage `avatars` æ¡¶
- **æ–‡ä»¶å‘½å**ï¼š`{ç”¨æˆ·ID}_{æ—¶é—´æˆ³}.{æ‰©å±•å}`
- **æ”¯æŒæ ¼å¼**ï¼šJPGã€PNGã€WEBP
- **æ–‡ä»¶å¤§å°**ï¼šæœ€å¤§ 2MB
- **URL æ›´æ–°**ï¼šè‡ªåŠ¨æ›´æ–°åˆ° `user_profiles.avatar_url`

### ä¿®æ”¹å¯†ç 

- **éªŒè¯æ–¹å¼**ï¼šå…ˆéªŒè¯åŸå¯†ç æ­£ç¡®æ€§
- **å¯†ç è¦æ±‚**ï¼šè‡³å°‘ 6 ä½
- **å®‰å…¨æªæ–½**ï¼šæ–°æ—§å¯†ç ä¸èƒ½ç›¸åŒ
- **éªŒè¯é€»è¾‘**ï¼šä¸¤æ¬¡è¾“å…¥æ–°å¯†ç å¿…é¡»ä¸€è‡´

---

## ğŸ¨ UI ç‰¹æ€§

### å¤´åƒä¸Šä¼ äº¤äº’

- âœ… é¼ æ ‡æ‚¬åœæ˜¾ç¤ºä¸Šä¼ æŒ‰é’®
- âœ… åŠé€æ˜é®ç½©æ•ˆæœ
- âœ… å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
- âœ… ä¸Šä¼ ä¸­ loading çŠ¶æ€

### ä¿®æ”¹å¯†ç å¼¹çª—

- âœ… æ¨¡æ€æ¡†èƒŒæ™¯æ¨¡ç³Šæ•ˆæœ
- âœ… ä¼˜é›…çš„æ·¡å…¥æ·¡å‡ºåŠ¨ç”»
- âœ… å›½é£é»„è‰²ä¸»é¢˜æ ·å¼
- âœ… è¡¨å•éªŒè¯åé¦ˆ

---

**ç°åœ¨å»æµ‹è¯•å§ï¼** ğŸš€
